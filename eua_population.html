<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Population</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <style>
    section {
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      padding: 20px;
      margin-bottom: 30px;
    }
    section img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 0 auto;
    }
  </style>
</head>
<body>
<header><nav><ul class="navbar">
  <li><a href="index.html">Home</a></li>
  <li><a href="about.html">About Me</a></li>
  <li class="dropdown"><a href="eua_population.html" class="dropbtn">Exploratory Univariate Analysis</a>
    <div class="dropdown-content">
      <a href="eua_population.html">Population</a>
      <a href="eua_median_income.html">Median Income</a>
      <a href="eua_mean_income.html">Mean Income</a>
      <a href="eua_house_price.html">House Price</a>
      <a href="eua_home_affordability.html">Home Affordability</a>
    </div></li>
  <li class="dropdown"><a href="ima1.html" class="dropbtn">Inferential Multivariate Analysis</a>
    <div class="dropdown-content">
      <a href="ima1.html">IMA Blog 1</a>
      <a href="ima2.html">IMA Blog 2</a>
      <a href="ima3.html">IMA Blog 3</a>
      <a href="ima4.html">IMA Blog 4</a>
      <a href="ima5.html">IMA Blog 5</a>
    </div></li>
  <li class="dropdown"><a href="code_us_county_data.html" class="dropbtn">Code</a>
    <div class="dropdown-content">
      <a href="code_us_county_data.html">us_county_data</a>
      <a href="code_eua_population.html">eua_population</a>
      <a href="code_eua_median_income.html">eua_median_income</a>
      <a href="code_ima_topic1.html">ima_topic1</a>
      <a href="code_ima_topic2.html">ima_topic2</a>
      <a href="code_ima_topic3.html">ima_topic3</a>
      <a href="code_ima_topic4.html">ima_topic4</a>
      <a href="code_ima_topic5.html">ima_topic5</a>
    </div></li>
  <li><a href="cv.html">CV</a></li>
</ul></nav></header>
<main class="page-content">
  <h1>Population</h1>
  <section><p>In the following blog post we explore the distribution of population across US counties in 2023. This data is sourced from the American Community Survey S1901 tables which can be obtained via https://data.census.gov/table/ACSST5Y2023.S1901?q=income&g=010XX00US$0500000.</p></section>
  <section>
    <h2>Explore Population Data Table</h2>
    <div style="overflow-x: auto; max-height: 500px;">
      <table id="populationTable" class="display" style="width:100%">
        <thead><tr></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </section>
  <section><img src="output/plots/population_1.png" alt="Population Plot 1" /></section>
  <section><p>This is a plot that conveys the population of each county in the US as measured by household count. [...] the center of the country is largely unpopulated with exceptions like Salt Lake City and Denver.</p></section>
  <section><img src="output/plots/population_2.png" alt="Population Plot 2" /></section>
  <section><p>There are 3,235 counties in 2023 (or county equivalent entities) within the US. [...] it probably does not represent the state of the national economy very accurately.</p></section>
  <section><img src="output/plots/population_3.png" alt="Population Plot 3" /></section>
  <section><p>The first plot includes color where the shade of the color represents the numeric value of household count per county. [...] greater than 100 thousand, greater than 20 thousand and less than 20 thousand.</p></section>
  <section><img src="output/plots/population_4.png" alt="Population Plot 4" /></section>
  <section><p>This plot is considerably easier to digest than the first. [...] consider the quadrilateral with the four corners of Minneapolis, Oklahoma City, Atlanta and Pittsburgh.</p></section>
  <section><img src="output/plots/population_5.png" alt="Population Plot 5" /></section>
  <section><p>This is a density plot which expresses the amount of observations across the horizontal axis of household count. [...] falls between 2,000 and 84,000.</p></section>
  <section><img src="output/plots/population_6.png" alt="Population Plot 6" /></section>
  <section><p>Note from the previous plots, we know several counties in the US have more than 600,000 despite our horizontal axis terminating at 180,000. [...] counties being the yellow color with fewer than 20,000 households per county.</p></section>
</main>
<script>
  fetch('output/tables/population_table.csv')
    .then(response => response.text())
    .then(csvText => {
      const parsed = Papa.parse(csvText, {
        header: true,
        skipEmptyLines: true
      });

      const headers = parsed.meta.fields;
      const rows = parsed.data;

      const thead = document.querySelector('#populationTable thead tr');
      headers.forEach(h => {
        const th = document.createElement('th');
        th.textContent = h;
        thead.appendChild(th);
      });

      const tbody = document.querySelector('#populationTable tbody');
      rows.forEach(row => {
        const tr = document.createElement('tr');
        headers.forEach(h => {
          const td = document.createElement('td');
          td.textContent = row[h];
          tr.appendChild(td);
        });
        tbody.appendChild(tr);
      });

      new DataTable('#populationTable', {
        scrollY: '400px',
        scrollCollapse: true,
        paging: true,
        pageLength: 25,
        ordering: false
      });
    });
</script>
</body>
</html>
