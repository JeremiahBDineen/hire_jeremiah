<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home Affordability</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <style>
    section {
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      padding: 20px;
      margin-bottom: 30px;
    }
    section img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 0 auto;
    }
  </style>
</head>
<body>
<header><nav><ul class="navbar">
  <li><a href="index.html">Home</a></li>
  <li><a href="about.html">About Me</a></li>
  <li class="dropdown"><a href="eua_population.html" class="dropbtn">Exploratory Univariate Analysis</a>
    <div class="dropdown-content">
      <a href="eua_population.html">Population</a>
      <a href="eua_median_income.html">Median Income</a>
      <a href="eua_mean_income.html">Mean Income</a>
      <a href="eua_house_price.html">House Price</a>
      <a href="eua_home_affordability.html">Home Affordability</a>
    </div></li>
  <li class="dropdown"><a href="ima1.html" class="dropbtn">Inferential Multivariate Analysis</a>
    <div class="dropdown-content">
      <a href="ima1.html">IMA Blog 1</a>
      <a href="ima2.html">IMA Blog 2</a>
      <a href="ima3.html">IMA Blog 3</a>
      <a href="ima4.html">IMA Blog 4</a>
      <a href="ima5.html">IMA Blog 5</a>
    </div></li>
  <li class="dropdown"><a href="code_us_county_data.html" class="dropbtn">Code</a>
    <div class="dropdown-content">
      <a href="code_us_county_data.html">us_county_data</a>
      <a href="code_eua_population.html">eua_population</a>
      <a href="code_eua_median_income.html">eua_median_income</a>
      <a href="code_ima_topic1.html">ima_topic1</a>
      <a href="code_ima_topic2.html">ima_topic2</a>
      <a href="code_ima_topic3.html">ima_topic3</a>
      <a href="code_ima_topic4.html">ima_topic4</a>
      <a href="code_ima_topic5.html">ima_topic5</a>
    </div></li>
  <li><a href="cv.html">CV</a></li>
</ul></nav></header>
<main class="page-content">
  <h1>Home Affordability</h1>
  <section><p>In the following blog post we explore the distribution of home affordability across US counties in 2023. This section uses data from both ACS and Zillow.</p></section>
  <section>
    <h2>Explore Home Affordability Data Table</h2>
    <div style="overflow-x: auto; max-height: 500px;">
      <table id="homeAffordabilityTable" class="display" style="width:100%">
        <thead><tr></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </section>
  <section><img src="output/plots/home_affordability_1.png" alt="Home Affordability Plot 1" /></section>
  <section><p>In this plot we get a glimpse at home affordability, meaning the difficulty of purchasing a home across each county in the US. [...] the color seems to smoothly adjust in most areas of the country.</p></section>
  <section><img src="output/plots/home_affordability_2.png" alt="Home Affordability Plot 2" /></section>
  <section><p>This concentration curve appears less concentrated than population and estimated house price, yet more concentrated than median income and mean income. [...] Perhaps a better term would be home inaffordability.</p></section>
  <section><img src="output/plots/home_affordability_3.png" alt="Home Affordability Plot 3" /></section>
  <section><p>A very small percentage of counties have a home affordability greater than 15 as evidenced by the near vanishing size of the blue region. [...] Between 2 to 4 is very prevalent with over 60% of observations existing in this range.</p></section>
  <section><img src="output/plots/home_affordability_4.png" alt="Home Affordability Plot 4" /></section>
  <section><p>As expected, the majority of counties are in the orange category of between 2 to 4 for home affordability. [...] Values greater than 15 are confined mostly to the counties directly on the west coast and specific hot real estate markets in Montana, Idaho, Utah, Colorado and Arizona.</p></section>
  <section><img src="output/plots/home_affordability_5.png" alt="Home Affordability Plot 5" /></section>
  <section><p>The distribution of home affordability values across US counties appears vaguely normal with a slight right skewed tail, similar yet not as pronounced as the distribution of estimated home price. [...] around the value of 10.</p></section>
  <section><img src="output/plots/home_affordability_6.png" alt="Home Affordability Plot 6" /></section>
  <section><p>Here we can see once again that the majority of values are in the orange group of 2 to 4 for home affordability value. [...] the high outliers above 7 covered by the purple group.</p></section>
  <script>
    fetch('output/tables/home_affordability_table.csv')
      .then(response => response.text())
      .then(csvText => {
        const parsed = Papa.parse(csvText, {
          header: true,
          skipEmptyLines: true
        });

        const headers = parsed.meta.fields;
        const rows = parsed.data;

        const thead = document.querySelector('#homeAffordabilityTable thead tr');
        headers.forEach(h => {
          const th = document.createElement('th');
          th.textContent = h;
          thead.appendChild(th);
        });

        const tbody = document.querySelector('#homeAffordabilityTable tbody');
        rows.forEach(row => {
          const tr = document.createElement('tr');
          headers.forEach(h => {
            const td = document.createElement('td');
            td.textContent = row[h];
            tr.appendChild(td);
          });
          tbody.appendChild(tr);
        });

        new DataTable('#homeAffordabilityTable', {
          scrollY: '400px',
          scrollCollapse: true,
          paging: true,
          pageLength: 25
        });
      });
  </script>
</main>
</body>
</html>
