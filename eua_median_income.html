<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Median Income</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <style>
    section {
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      padding: 20px;
      margin-bottom: 30px;
    }
    section img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 0 auto;
    }
  </style>
</head>
<body>
<header><nav>
    <ul class="navbar">
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About Me</a></li>
      <li class="dropdown"><a href="eua_population.html" class="dropbtn">Exploratory Univariate Analysis</a>
        <div class="dropdown-content">
          <a href="eua_population.html">Population</a>
          <a href="eua_median_income.html">Median Income</a>
          <a href="eua_mean_income.html">Mean Income</a>
          <a href="eua_house_price.html">House Price</a>
          <a href="eua_home_affordability.html">Home Affordability</a>
        </div>
      </li>
      <li class="dropdown"><a href="ima_median_income_vs_household_count.html" class="dropbtn">Inferential Multivariate Analysis</a>
        <div class="dropdown-content">
          <a href="ima_median_income_vs_household_count.html">association - median income + household count</a>
          <a href="ima_house_price_vs_median_income.html">association - house price + median income</a>
        </div>
      </li>
      <li><a href="tableau_map.html">Tableau Map</a></li>
      <li class="dropdown"><a href="code_us_county_data.html" class="dropbtn">Code</a>
        <div class="dropdown-content">
          <a href="code_us_county_data.html">us_county_data_python</a>
          <a href="code_us_county_data_R.html">us_county_data_R</a>
          <a href="code_tigris_data.html">tigris_data</a>
          <a href="code_eua_population.html">eua_population</a>
          <a href="code_eua_median_income.html">eua_median_income</a>
          <a href="code_eua_mean_income.html">eua_mean_income</a>
          <a href="code_eua_house_price.html">eua_house_price</a>
          <a href="code_eua_home_affordability.html">eua_home_affordability</a>
          <a href="code_ima_median_income_vs_household_count.html">ima_median_income_vs_household_count</a>
          <a href="code_ima_house_price_vs_median_income.html">ima_house_price_vs_median_income</a>
        </div>
      </li>
      <li><a href="cv.html">CV</a></li>
    </ul>
  </nav></header>
<main class="page-content">
  <h1>Median Income</h1>
  <section><p>In the following blog post we explore the distribution of median income across US counties in 2023. This data is sourced from the American Community Survey S1901 tables which can be obtained via https://data.census.gov/table/ACSST5Y2023.S1901?q=income&g=010XX00US$0500000.</p></section>
  <section>
    <h2>Explore Median Income Data Table</h2>
    <div style="overflow-x: auto; max-height: 500px;">
      <table id="medianIncomeTable" class="display" style="width:100%">
        <thead><tr></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </section>
  <section><p>Above you can scroll through the cleaned data table that is used in this section.  </p></section>
  <section><img src="output/plots/median_income_1.png" alt="Median Income Plot 1" /></section>
  <section><p>The plot above expresses the median income per county across the US. Perhaps obviously, it appears rural regions with low population tend to have much lower income while urban centers (and the area immediately surrounding them) have quite high median income. The northeastern corridor has deep blue to purple indicating median incomes between 200K to 100K. The Midwest has several small purple/blue zones, yet most counties within a wide radius of the cities still have fairly reddish hue indicating 60K to 80K. The west coast has large cities with expectedly high median income and the surrounding counties still remain consistently higher than about 60K (often close to 100K).</p></section>
  <section><img src="output/plots/median_income_2.png" alt="Median Income Plot 2" /></section>
  <section><p>This plot looks at the relationship between cumulative median income across counties. If a few dominant counties had much higher income than the remaining counties, we would observe a steep initial curve, which moderates to a horizontal line the further right you traverse. The top 50% percent of counties hold about 60% of cumulative median income. If all counties had equal median income then we would expect to see a 45 degree line, meaning 10% of counties contribute to 10% of cumulative median income, 70% of counties contribute to 70% of income and so on. The actual curve here is quite close to a 45 degree line with median income not drastically changing across counties.</p></section>
  <section><img src="output/plots/median_income_3.png" alt="Median Income Plot 3" /></section>
  <section><p>This plot is the same as the previous, but given our new knowledge on the distribution of median income across counties, we can partition to the median income variable into 5 levels: greater than 125K, greater than 100K, greater than 75K, greater than 50K and less than 50K. Note purple and especially blue are just a few counties (under 5%). Red is several times larger than the first two colors with about 16% of total observations. The orange category of 50K to 75K is the largest by far with nearly 60%. Finally, the yellow category of less than 50K has about 15%.</p></section>
  <section><img src="output/plots/median_income_4.png" alt="Median Income Plot 4" /></section>
  <section><p>We can now take a more digestible view of the median income distribution across the US with our new factor variable median income group. One way to conceptualize this graph is to imagine median income dollars to be a height above sea level. Consider the orange counties to be our baseline ‘sea level’ of 50K to 75K. The orange category is the majority with some yellow counties creating ‘valleys’ below sea level like in Appalachia, the deep south and New Mexico. Red could correspond to ‘hills’ that reach from 75K to 100K. Purple can be ‘mountains’ with blue as the nation’s highest peaks. This is just one conceptual strategy to interpret this geospatial data.</p></section>
  <section><img src="output/plots/median_income_5.png" alt="Median Income Plot 5" /></section>
  <section><p>This density plot transparently expresses the distribution of median income per county in the US. The mean and median of the distribution are likely to be close to the peak at about 62K. The bell curve shape is known as a ‘normal’ distribution in statistics where most values fall close to the center with fewer and fewer values existing farther away as you approach the tails on either side. The middle 50% of observations exist between 54K to 73K and the middle 80% of exist between 45K to 86K.</p></section>
  <section><img src="output/plots/median_income_6.png" alt="Median Income Plot 6" /></section>
  <section><p>This plot is the same as the previous, yet is supplemented with the median income group partitioning. Something to perhaps explore further is the bump in the yellow region around 22K.</p></section>
  <script>
    fetch('output/tables/median_income_table.csv')
      .then(response => response.text())
      .then(csvText => {
        const parsed = Papa.parse(csvText, {
          header: true,
          skipEmptyLines: true
        });

        const headers = parsed.meta.fields;
        const rows = parsed.data;

        const thead = document.querySelector('#medianIncomeTable thead tr');
        headers.forEach(h => {
          const th = document.createElement('th');
          th.textContent = h;
          thead.appendChild(th);
        });

        const tbody = document.querySelector('#medianIncomeTable tbody');
        rows.forEach(row => {
          const tr = document.createElement('tr');
          headers.forEach(h => {
            const td = document.createElement('td');
            td.textContent = row[h];
            tr.appendChild(td);
          });
          tbody.appendChild(tr);
        });

        new DataTable('#medianIncomeTable', {
          scrollY: '400px',
          scrollCollapse: true,
          paging: true,
          pageLength: 25,
          ordering: false
        });
      });
  </script>
</main>
</body>
</html>
